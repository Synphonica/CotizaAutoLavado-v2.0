<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BPMN Alto Carwash - Diagrama Interactivo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(90deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .nav-tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 2px solid #e9ecef;
            overflow-x: auto;
        }

        .nav-tab {
            background: none;
            border: none;
            padding: 15px 25px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            color: #6c757d;
            white-space: nowrap;
            transition: all 0.3s ease;
            position: relative;
        }

        .nav-tab:hover {
            color: #495057;
            background: #e9ecef;
        }

        .nav-tab.active {
            color: #2a5298;
            background: white;
        }

        .nav-tab.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: #2a5298;
        }

        .tab-content {
            display: none;
            padding: 30px;
            animation: fadeIn 0.5s ease-in;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .process-diagram {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 30px;
            border: 2px solid #e9ecef;
        }

        .process-title {
            font-size: 1.8rem;
            color: #2a5298;
            margin-bottom: 20px;
            text-align: center;
            font-weight: bold;
        }

        /* ESTILO BIZAGI MODELER EXACTO */
        .main-pool {
            border: 2px solid #000;
            background: white;
            overflow: hidden;
            margin: 20px 0;
        }

        .pool-title {
            display: none; /* No mostrar t√≠tulo del pool como en la imagen */
        }

        /* LANES ESTILO BIZAGI REAL */
        .lane {
            display: flex;
            border-bottom: 1px solid #ccc;
            min-height: 200px;
            background: white;
            position: relative;
        }

        .lane:last-child {
            border-bottom: none;
        }

        .lane-header {
            background: #f0f0f0;
            color: #333;
            writing-mode: vertical-lr;
            text-orientation: mixed;
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 80px;
            font-weight: normal;
            font-size: 0.9rem;
            border-right: 1px solid #ccc;
            text-align: center;
        }

        .lane-content {
            flex: 1;
            padding: 40px 30px;
            display: flex;
            gap: 30px;
            align-items: center;
            overflow-x: auto;
            background: white;
            position: relative;
        }

        /* REDEFINIR ELEMENTOS BPMN PARA QUE SE VEAN COMO BIZAGI */
        .bpmn-element {
            position: relative;
            font-size: 11px;
            font-weight: normal;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
            font-family: Arial, sans-serif;
        }

        .start-event {
            background: #90EE90;
            border: 2px solid #228B22;
            color: black;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 35px;
            max-width: 35px;
            font-size: 10px;
        }

        .end-event {
            background: #FFB6C1;
            border: 4px solid #DC143C;
            color: black;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 35px;
            max-width: 35px;
            font-size: 10px;
        }

        .user-task {
            background: #ADD8E6;
            border: 2px solid #4682B4;
            color: black;
            border-radius: 8px;
            padding: 15px 20px;
            min-width: 100px;
            max-width: 120px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .service-task {
            background: #DDA0DD;
            border: 2px solid #9370DB;
            color: black;
            border-radius: 8px;
            padding: 15px 20px;
            min-width: 100px;
            max-width: 120px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .gateway {
            background: #FFFF99;
            border: 2px solid #FFD700;
            color: black;
            transform: rotate(45deg);
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 40px;
            max-width: 40px;
            font-size: 16px;
            font-weight: bold;
            box-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        /* EVENTOS ADICIONALES BIZAGI */
        .message-event, .message-start-event, .message-end-event {
            background: #F0F8FF;
            border: 2px solid #4169E1;
            color: black;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 35px;
            max-width: 35px;
            font-size: 12px;
        }

        .timer-event {
            background: #FFF8DC;
            border: 2px solid #DAA520;
            color: black;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 35px;
            max-width: 35px;
            font-size: 12px;
        }

        .error-event {
            background: #FFE4E1;
            border: 2px solid #DC143C;
            color: black;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 35px;
            max-width: 35px;
            font-size: 12px;
        }

        .compensation-event {
            background: #E0E0E0;
            border: 2px solid #696969;
            color: black;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 35px;
            max-width: 35px;
            font-size: 12px;
        }

        .signal-event {
            background: #F5F5DC;
            border: 2px solid #8B4513;
            color: black;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 35px;
            max-width: 35px;
            font-size: 12px;
        }

        .link-event {
            background: #E6E6FA;
            border: 2px solid #9370DB;
            color: black;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 35px;
            max-width: 35px;
            font-size: 12px;
        }

        .terminate-event {
            background: #2F4F4F;
            border: 3px solid #000000;
            color: white;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 35px;
            max-width: 35px;
            font-size: 12px;
        }

        /* SUBPROCESOS ESPECIALES BIZAGI */
        .subprocess-collapsed {
            background: #F0F8FF;
            border: 2px solid #4682B4;
            border-radius: 10px;
            padding: 15px 20px;
            min-width: 140px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            box-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .subprocess-collapsed::after {
            content: '+';
            position: absolute;
            bottom: 2px;
            right: 8px;
            font-size: 14px;
            font-weight: bold;
            color: #4682B4;
        }

        .subprocess-adhoc {
            background: #FFFACD;
            border: 2px dashed #DAA520;
            border-radius: 10px;
            padding: 15px 20px;
            min-width: 140px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            box-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .subprocess-adhoc::after {
            content: '~';
            position: absolute;
            bottom: 2px;
            right: 8px;
            font-size: 16px;
            font-weight: bold;
            color: #DAA520;
        }

        .subprocess-call-activity {
            background: #E6E6FA;
            border: 4px solid #9370DB;
            border-radius: 10px;
            padding: 15px 20px;
            min-width: 140px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .subprocess-transaction {
            background: #F5F5DC;
            border: 3px double #8B4513;
            border-radius: 10px;
            padding: 15px 20px;
            min-width: 140px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        /* FLUJOS DE MENSAJE */
        .message-flows {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            z-index: 10;
        }

        .message-flow {
            position: absolute;
            height: 2px;
            background: #FF6B6B;
            border-top: 2px dashed #FF6B6B;
            pointer-events: none;
        }

        .message-arrow {
            font-size: 10px;
            color: #FF6B6B;
            font-weight: bold;
            background: white;
            padding: 2px 5px;
            border-radius: 3px;
            white-space: nowrap;
        }

        /* CONECTORES MEJORADOS */
        .connector {
            background: #666;
            height: 2px;
            width: 40px;
            margin: 0 10px;
            position: relative;
            flex-shrink: 0;
            align-self: center;
        }

        .connector::after {
            content: '';
            position: absolute;
            right: -6px;
            top: -4px;
            width: 0;
            height: 0;
            border-left: 10px solid #666;
            border-top: 5px solid transparent;
            border-bottom: 5px solid transparent;
        }

        /* SUBPROCESOS ESTILO BIZAGI */
        .subprocess-expanded {
            border: 2px dashed #4682B4;
            background: rgba(173, 216, 230, 0.1);
            border-radius: 10px;
            padding: 20px;
            margin: 10px 0;
            position: relative;
        }

        .subprocess-title {
            position: absolute;
            top: -10px;
            left: 10px;
            background: white;
            padding: 2px 8px;
            font-size: 10px;
            color: #4682B4;
            font-weight: bold;
        }

        /* SUBPROCESOS CONTENEDORES */
        .subprocess-container {
            background: white;
            border: 2px dashed #6c757d;
            border-radius: 10px;
            padding: 15px;
            min-width: 300px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
        }

        .subprocess-container:hover {
            border-color: #2a5298;
            box-shadow: 0 4px 8px rgba(42, 82, 152, 0.15);
            transform: translateY(-2px);
        }

        .subprocess-header {
            background: #e9ecef;
            color: #495057;
            padding: 8px 12px;
            border-radius: 6px;
            font-weight: bold;
            font-size: 0.9rem;
            margin-bottom: 12px;
            text-align: center;
            border-left: 4px solid #2a5298;
        }

        .subprocess-content {
            display: flex;
            align-items: center;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: flex-start;
        }

        /* COMPATIBILIDAD CON VERSI√ìN ANTERIOR */
        .pools {
            display: flex;
            flex-direction: column;
            gap: 0;
            border: 2px solid #2a5298;
            background: white;
            border-radius: 10px;
            overflow: hidden;
        }

        .pool {
            display: flex;
            border-bottom: 2px solid #2a5298;
            min-height: 150px;
            position: relative;
        }

        .pool:last-child {
            border-bottom: none;
        }

        .pool-header {
            background: #2a5298;
            color: white;
            padding: 15px;
            font-weight: bold;
            font-size: 1.1rem;
            writing-mode: vertical-lr;
            text-orientation: mixed;
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 120px;
            border-right: 2px solid #2a5298;
        }

        .pool-content {
            flex: 1;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            min-height: 120px;
            background: #fafafa;
            position: relative;
            overflow-x: auto;
        }

        .lane-separator {
            position: absolute;
            right: 0;
            top: 0;
            bottom: 0;
            width: 1px;
            background: #dee2e6;
        }

        .message-flow {
            position: absolute;
            left: 0;
            right: 0;
            height: 2px;
            background: #dc3545;
            top: 50%;
            transform: translateY(-50%);
            z-index: 10;
        }

        .message-flow::before {
            content: '‚úâÔ∏è';
            position: absolute;
            left: 50%;
            top: -10px;
            transform: translateX(-50%);
            background: white;
            padding: 2px;
            font-size: 12px;
        }

        .bpmn-element {
            position: relative;
            padding: 10px 15px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 600;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            min-width: 120px;
            max-width: 160px;
        }

        .bpmn-element:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }

        /* Tipos de elementos BPMN */
        .start-event {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 60px;
            max-width: 60px;
            font-size: 10px;
        }

        .end-event {
            background: linear-gradient(135deg, #dc3545, #e83e8c);
            color: white;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 60px;
            max-width: 60px;
            font-size: 10px;
            border: 3px solid #721c24;
        }

        .user-task {
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
            border-left: 4px solid #004085;
        }

        .service-task {
            background: linear-gradient(135deg, #6f42c1, #563d7c);
            color: white;
            border-left: 4px solid #493628;
        }

        .gateway {
            background: linear-gradient(135deg, #ffc107, #e0a800);
            color: #212529;
            transform: rotate(45deg);
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 50px;
            max-width: 50px;
            font-size: 18px;
            font-weight: bold;
        }

        .timer-event {
            background: linear-gradient(135deg, #fd7e14, #e55a00);
            color: white;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 60px;
            max-width: 60px;
            font-size: 20px;
        }

        .message-event {
            background: linear-gradient(135deg, #17a2b8, #138496);
            color: white;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 60px;
            max-width: 60px;
            font-size: 16px;
        }

        .connector {
            background: #6c757d;
            height: 2px;
            width: 30px;
            margin: 0 5px;
            position: relative;
            flex-shrink: 0;
        }

        .connector::after {
            content: '';
            position: absolute;
            right: -5px;
            top: -3px;
            width: 0;
            height: 0;
            border-left: 8px solid #6c757d;
            border-top: 4px solid transparent;
            border-bottom: 4px solid transparent;
        }

        .tooltip {
            position: absolute;
            background: #333;
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 12px;
            white-space: nowrap;
            z-index: 1000;
            bottom: 120%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .tooltip::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            border: 5px solid transparent;
            border-top-color: #333;
        }

        .bpmn-element:hover .tooltip {
            opacity: 1;
            visibility: visible;
        }

        .process-info {
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 5px solid #2196f3;
        }

        .process-info h3 {
            color: #1565c0;
            margin-bottom: 10px;
            font-size: 1.3rem;
        }

        .process-info ul {
            list-style-type: none;
            padding-left: 0;
        }

        .process-info li {
            margin-bottom: 8px;
            padding-left: 20px;
            position: relative;
        }

        .process-info li::before {
            content: '‚úì';
            position: absolute;
            left: 0;
            color: #4caf50;
            font-weight: bold;
        }

        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .kpi-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            border-left: 5px solid #2a5298;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .kpi-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        .kpi-title {
            font-size: 1.2rem;
            font-weight: bold;
            color: #2a5298;
            margin-bottom: 15px;
        }

        .kpi-list {
            list-style: none;
        }

        .kpi-list li {
            margin-bottom: 8px;
            padding-left: 15px;
            position: relative;
            font-size: 14px;
        }

        .kpi-list li::before {
            content: 'üìä';
            position: absolute;
            left: 0;
        }

        .legend {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            border: 1px solid #e9ecef;
        }

        .legend h3 {
            margin-bottom: 15px;
            color: #2a5298;
            font-size: 1.3rem;
        }

        .legend-items {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 14px;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
            flex-shrink: 0;
        }

        /* L√≠neas de conexi√≥n verticales entre pools */
        .vertical-connector {
            position: absolute;
            left: 50%;
            top: -10px;
            bottom: -10px;
            width: 2px;
            background: #6c757d;
            transform: translateX(-50%);
            z-index: 5;
        }

        .vertical-connector::before {
            content: '';
            position: absolute;
            bottom: -5px;
            left: -3px;
            width: 0;
            height: 0;
            border-left: 4px solid transparent;
            border-right: 4px solid transparent;
            border-top: 8px solid #6c757d;
        }

        /* Animaciones mejoradas */
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(42, 82, 152, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(42, 82, 152, 0); }
            100% { box-shadow: 0 0 0 0 rgba(42, 82, 152, 0); }
        }

        .bpmn-element:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
            animation: pulse 2s infinite;
        }

        /* Indicadores de flujo */
        .flow-indicator {
            position: absolute;
            top: 50%;
            left: 20px;
            width: 10px;
            height: 10px;
            background: #28a745;
            border-radius: 50%;
            transform: translateY(-50%);
            animation: flowMove 3s ease-in-out infinite;
        }

        @keyframes flowMove {
            0%, 100% { left: 20px; opacity: 1; }
            50% { left: calc(100% - 30px); opacity: 0.7; }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .header p {
                font-size: 1rem;
            }

            /* RESPONSIVE PARA LANES */
            .lane {
                flex-direction: column;
                min-height: auto;
            }

            .lane-header {
                writing-mode: initial;
                text-orientation: initial;
                min-width: auto;
                padding: 10px;
                border-right: none;
                border-bottom: 2px solid #2a5298;
                text-align: center;
            }

            .lane-content {
                flex-direction: column;
                align-items: stretch;
                gap: 15px;
            }

            .subprocess-container {
                min-width: auto;
                width: 100%;
            }

            .subprocess-content {
                justify-content: center;
            }
            
            /* COMPATIBILIDAD CON POOLS ANTIGUOS */
            .pool {
                flex-direction: column;
            }

            .pool-header {
                writing-mode: initial;
                text-orientation: initial;
                min-width: auto;
                border-right: none;
                border-bottom: 2px solid #2a5298;
            }
            
            .pool-content {
                flex-direction: column;
                align-items: stretch;
            }
            
            .bpmn-element {
                max-width: none;
                min-width: auto;
            }
            
            .nav-tabs {
                flex-wrap: wrap;
            }
            
            .nav-tab {
                flex: 1;
                min-width: 120px;
            }

            .message-flow {
                display: none;
            }

            .pool-title {
                font-size: 1.2rem;
                padding: 10px 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöó Alto Carwash Platform</h1>
            <p>Diagrama BPMN Interactivo - Plataforma Agregadora de Servicios de Lavado Automotriz</p>
        </div>

        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showTab('registro')">üè¢ Vista Principal</button>
            <button class="nav-tab" onclick="showTab('busqueda')">üîç Subproceso B√∫squeda</button>
            <button class="nav-tab" onclick="showTab('gestion')">üè™ Gesti√≥n Proveedores</button>
            <button class="nav-tab" onclick="showTab('agregacion')">üîÑ Agregaci√≥n Datos</button>
            <button class="nav-tab" onclick="showTab('resenas')">‚≠ê Sistema Rese√±as</button>
            <button class="nav-tab" onclick="showTab('administracion')">üëë Administraci√≥n</button>
            <button class="nav-tab" onclick="showTab('bizagi-view')">üèóÔ∏è Vista Bizagi Completa</button>
            <button class="nav-tab" onclick="showTab('kpis')">üìä KPIs & M√©tricas</button>
        </div>

        <!-- TAB 1: PROCESO PRINCIPAL COMPLETO -->
        <div id="registro" class="tab-content active">
            <div class="process-info">
                <h3>üè† Proceso Principal Alto Carwash - Estilo Bizagi Modeler Completo</h3>
                <p>Un solo pool con todos los lanes conectados, usando todos los elementos BPMN disponibles en Bizagi.</p>
            </div>

            <div class="process-diagram">
                <h2 class="process-title">Alto Carwash Platform - Proceso Completo</h2>
                
                <!-- POOL √öNICO PARA TODA LA APLICACI√ìN -->
                <div class="main-pool">
                    
                    <!-- LANE 1: USUARIO FINAL -->
                    <div class="lane">
                        <div class="lane-header">Usuario Final</div>
                        <div class="lane-content">
                            <div class="bpmn-element start-event">Inicio</div>
                            <div class="connector"></div>
                            <div class="bpmn-element user-task">Acceder App</div>
                            <div class="connector"></div>
                            <div class="bpmn-element gateway">¬øRegistrado?</div>
                            <div class="connector"></div>
                            <div class="bpmn-element user-task">Buscar servicio</div>
                            <div class="connector"></div>
                            
                            <!-- SUBPROCESO EXPANDIDO: B√öSQUEDA -->
                            <div class="subprocess-expanded" style="margin: 10px 0;">
                                <div class="subprocess-title">Proceso de B√∫squeda Avanzada</div>
                                <div style="display: flex; gap: 15px; margin-top: 10px;">
                                    <div class="bpmn-element user-task" style="font-size: 9px; padding: 5px;">Ubicaci√≥n</div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element user-task" style="font-size: 9px; padding: 5px;">Filtros</div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element gateway" style="font-size: 9px;">IA?</div>
                                </div>
                            </div>
                            
                            <div class="bpmn-element user-task">Seleccionar provider</div>
                            <div class="connector"></div>
                            <div class="bpmn-element user-task">Confirmar solicitud</div>
                            <div class="connector"></div>
                            <div class="bpmn-element message-event">üì©</div>
                            <div class="connector"></div>
                            <div class="bpmn-element end-event">Fin</div>
                        </div>
                    </div>

                    <!-- LANE 2: SISTEMA BACKEND -->
                    <div class="lane">
                        <div class="lane-header">Sistema Backend</div>
                        <div class="lane-content">
                            <div class="bpmn-element service-task">Autenticaci√≥n Clerk</div>
                            <div class="connector"></div>
                            <div class="bpmn-element gateway">¬øToken v√°lido?</div>
                            <div class="connector"></div>
                            <div class="bpmn-element service-task">Consultar DB</div>
                            <div class="connector"></div>
                            
                            <!-- EVENTO TIMER -->
                            <div class="bpmn-element timer-event">‚è∞</div>
                            <div class="connector"></div>
                            
                            <!-- SUBPROCESO COLAPSADO: AGREGACI√ìN -->
                            <div class="subprocess-collapsed">
                                <div class="subprocess-title">- Agregaci√≥n de Datos</div>
                            </div>
                            
                            <div class="bpmn-element service-task">Procesar resultados</div>
                            <div class="connector"></div>
                            <div class="bpmn-element gateway">¬øUsar IA?</div>
                            <div class="connector"></div>
                            <div class="bpmn-element service-task">Notificar provider</div>
                            <div class="connector"></div>
                            
                            <!-- EVENTO DE ERROR -->
                            <div class="bpmn-element error-event">‚ö†Ô∏è</div>
                        </div>
                    </div>
                    
                    <!-- LANE 3: INTELIGENCIA ARTIFICIAL -->
                    <div class="lane">
                        <div class="lane-header">IA Engine</div>
                        <div class="lane-content">
                            <div class="bpmn-element service-task">Analizar historial</div>
                            <div class="connector"></div>
                            
                            <!-- SUBPROCESO EXPANDIDO: MACHINE LEARNING -->
                            <div class="subprocess-expanded" style="margin: 10px 0;">
                                <div class="subprocess-title">Procesamiento ML/IA</div>
                                <div style="display: flex; gap: 10px; margin-top: 10px;">
                                    <div class="bpmn-element service-task" style="font-size: 9px; padding: 5px;">OpenAI</div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element service-task" style="font-size: 9px; padding: 5px;">Scoring</div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element gateway" style="font-size: 9px;">80%?</div>
                                </div>
                            </div>
                            
                            <div class="bpmn-element service-task">Generar recomendaciones</div>
                            <div class="connector"></div>
                            <div class="bpmn-element service-task">Personalizar ranking</div>
                            <div class="connector"></div>
                            
                            <!-- EVENTO COMPENSACI√ìN -->
                            <div class="bpmn-element compensation-event">‚Ü∂</div>
                        </div>
                    </div>
                    
                    <!-- LANE 4: PROVEEDORES -->
                    <div class="lane">
                        <div class="lane-header">Proveedores</div>
                        <div class="lane-content">
                            <!-- EVENTO MENSAJE INICIO -->
                            <div class="bpmn-element message-start-event">üì©</div>
                            <div class="connector"></div>
                            <div class="bpmn-element user-task">Recibir solicitud</div>
                            <div class="connector"></div>
                            <div class="bpmn-element gateway">Decisi√≥n</div>
                            
                            <!-- GATEWAY PARALELO -->
                            <div style="display: flex; gap: 20px; margin: 15px 0;">
                                <div style="text-align: center;">
                                    <div class="bpmn-element user-task" style="background: #90EE90; font-size: 9px;">Aceptar</div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element user-task" style="font-size: 9px;">Confirmar</div>
                                </div>
                                <div style="text-align: center;">
                                    <div class="bpmn-element user-task" style="background: #FFB6C1; font-size: 9px;">Rechazar</div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element service-task" style="font-size: 9px;">Notificar</div>
                                </div>
                            </div>
                            
                            <!-- SUBPROCESO AD-HOC -->
                            <div class="subprocess-adhoc">
                                <div class="subprocess-title">~ Gesti√≥n Din√°mica</div>
                            </div>
                            
                            <div class="bpmn-element message-end-event">üìß</div>
                        </div>
                    </div>
                    
                    <!-- LANE 5: SERVICIOS EXTERNOS -->
                    <div class="lane">
                        <div class="lane-header">Servicios Externos</div>
                        <div class="lane-content">
                            <div class="bpmn-element service-task">Google Maps API</div>
                            <div class="connector"></div>
                            <div class="bpmn-element service-task">SendGrid Email</div>
                            <div class="connector"></div>
                            
                            <!-- SUBPROCESO CALL ACTIVITY -->
                            <div class="subprocess-call-activity">
                                <div class="subprocess-title">üìû Push Notifications</div>
                            </div>
                            
                            <div class="bpmn-element service-task">Analytics & Logs</div>
                            <div class="connector"></div>
                            
                            <!-- EVENTO SIGNAL -->
                            <div class="bpmn-element signal-event">üì°</div>
                            <div class="connector"></div>
                            
                            <!-- EVENTO LINK -->
                            <div class="bpmn-element link-event">üîó</div>
                        </div>
                    </div>
                    
                    <!-- LANE 6: ADMINISTRADOR -->
                    <div class="lane">
                        <div class="lane-header">Administrador</div>
                        <div class="lane-content">
                            <div class="bpmn-element user-task">Monitorear KPIs</div>
                            <div class="connector"></div>
                            <div class="bpmn-element user-task">Moderar contenido</div>
                            <div class="connector"></div>
                            <div class="bpmn-element gateway">¬øAcci√≥n requerida?</div>
                            <div class="connector"></div>
                            
                            <!-- SUBPROCESO TRANSACCI√ìN -->
                            <div class="subprocess-transaction">
                                <div class="subprocess-title">‚ö° Gesti√≥n Cr√≠tica</div>
                            </div>
                            
                            <div class="bpmn-element user-task">Aprobar/Rechazar</div>
                            <div class="connector"></div>
                            <div class="bpmn-element terminate-event">‚èπÔ∏è</div>
                        </div>
                    </div>
                </div>
                
                <!-- FLUJOS DE MENSAJE ENTRE LANES -->
                <div class="message-flows">
                    <div class="message-flow" style="top: 120px; left: 200px; width: 150px;">
                        <div class="message-arrow">‚Üí Auth Request</div>
                    </div>
                    <div class="message-flow" style="top: 200px; left: 300px; width: 120px;">
                        <div class="message-arrow">‚Üí IA Query</div>
                    </div>
                    <div class="message-flow" style="top: 280px; left: 250px; width: 180px;">
                        <div class="message-arrow">‚Üí Provider Notification</div>
                    </div>
                    <div class="message-flow" style="top: 360px; left: 180px; width: 200px;">
                        <div class="message-arrow">‚Üí External APIs</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB 2: VISTA DETALLADA B√öSQUEDA -->
        <div id="busqueda" class="tab-content">
            <div class="process-info">
                <h3>üîç Proceso Detallado: B√∫squeda Inteligente</h3>
                <p>Vista expandida del subproceso de b√∫squeda con todos los actores involucrados.</p>
            </div>

            <div class="process-diagram">
                <h2 class="process-title">üîç Subproceso: B√∫squeda y Recomendaciones IA</h2>
                
                <!-- BIZAGI STYLE: EXPANDED SUBPROCESS -->
                <div class="main-pool">
                    <div class="pool-title">üéØ B√∫squeda Inteligente de Servicios - Subproceso Expandido</div>
                    
                    <!-- LANE: USUARIO FINAL -->
                    <div class="lane">
                        <div class="lane-header">üë§ Usuario</div>
                        <div class="lane-content">
                            <div class="subprocess-container">
                                <div class="subprocess-header">üîç Interfaz B√∫squeda</div>
                                <div class="subprocess-content">
                                    <div class="bpmn-element start-event">
                                        Inicio
                                        <div class="tooltip">Acceso a b√∫squeda</div>
                                    </div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element user-task">
                                        Ingresar Ubicaci√≥n
                                        <div class="tooltip">GPS o direcci√≥n manual</div>
                                    </div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element user-task">
                                        Filtros Avanzados
                                        <div class="tooltip">Precio, tipo, rating, distancia</div>
                                    </div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element gateway">IA?</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- LANE: MOTOR DE B√öSQUEDA -->
                    <div class="lane">
                        <div class="lane-header">ÔøΩ Search Engine</div>
                        <div class="lane-content">
                            <div class="subprocess-container">
                                <div class="subprocess-header">‚ö° Query Processing</div>
                                <div class="subprocess-content">
                                    <div class="bpmn-element service-task">
                                        Parse Query
                                        <div class="tooltip">Procesamiento de consulta</div>
                                    </div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element service-task">
                                        DB Search
                                        <div class="tooltip">PostgreSQL + √≠ndices</div>
                                    </div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element service-task">
                                        Apply Filters
                                        <div class="tooltip">Filtrado por criterios</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- LANE: SISTEMA IA -->
                    <div class="lane">
                        <div class="lane-header">ü§ñ IA Engine</div>
                        <div class="lane-content">
                            <div class="subprocess-container">
                                <div class="subprocess-header">üß† ML Processing</div>
                                <div class="subprocess-content">
                                    <div class="bpmn-element service-task">
                                        User Profiling
                                        <div class="tooltip">An√°lisis de historial</div>
                                    </div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element service-task">
                                        OpenAI API Call
                                        <div class="tooltip">GPT-4 recommendations</div>
                                    </div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element service-task">
                                        ML Scoring
                                        <div class="tooltip">Algoritmo de relevancia</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- LANE: GEOLOCALIZACI√ìN -->
                    <div class="lane">
                        <div class="lane-header">üåç Maps API</div>
                        <div class="lane-content">
                            <div class="subprocess-container">
                                <div class="subprocess-header">üìç Location Services</div>
                                <div class="subprocess-content">
                                    <div class="bpmn-element service-task">
                                        Geocoding
                                        <div class="tooltip">Google Maps API</div>
                                    </div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element service-task">
                                        Distance Matrix
                                        <div class="tooltip">C√°lculo de distancias</div>
                                    </div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element service-task">
                                        Route Optimization
                                        <div class="tooltip">Rutas optimizadas</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- LANE: PRESENTACI√ìN -->
                    <div class="lane">
                        <div class="lane-header">ÔøΩ Frontend</div>
                        <div class="lane-content">
                            <div class="subprocess-container">
                                <div class="subprocess-header">üé® Results Display</div>
                                <div class="subprocess-content">
                                    <div class="bpmn-element service-task">
                                        Merge Results
                                        <div class="tooltip">Combinar datos</div>
                                    </div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element service-task">
                                        Render UI
                                        <div class="tooltip">Next.js components</div>
                                    </div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element end-event">
                                        ‚úì
                                        <div class="tooltip">Resultados mostrados</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB 3: GESTI√ìN DE PROVEEDORES -->
        <div id="gestion" class="tab-content">
            <div class="process-info">
                <h3>üè™ Gesti√≥n de Servicios por Proveedores</h3>
                <ul>
                    <li>Panel de control para proveedores verificados</li>
                    <li>CRUD completo de servicios</li>
                    <li>Gesti√≥n de precios y promociones</li>
                    <li>Sistema de notificaciones a suscriptores</li>
                </ul>
            </div>

            <div class="process-diagram">
                <h2 class="process-title">Gesti√≥n de Servicios</h2>
                
                <div class="pools">
                    <!-- POOL PROVEEDOR -->
                    <div class="pool">
                        <div class="pool-header">üè™ Proveedor</div>
                        <div class="pool-content">
                        <div class="bpmn-element start-event">
                            Panel
                            <div class="tooltip">Acceso al panel</div>
                        </div>
                        <div class="connector"></div>
                        <div class="bpmn-element gateway">?</div>
                        <div class="connector"></div>
                        <div class="bpmn-element user-task">
                            Crear Servicio
                            <div class="tooltip">Nuevo servicio</div>
                        </div>
                        <div class="connector"></div>
                        <div class="bpmn-element user-task">
                            Editar Precios
                            <div class="tooltip">Actualizar tarifas</div>
                        </div>
                        <div class="connector"></div>
                        <div class="bpmn-element user-task">
                            Subir Im√°genes
                            <div class="tooltip">Fotos del servicio</div>
                        </div>
                        <div class="connector"></div>
                        <div class="bpmn-element end-event">
                            ‚úì
                            <div class="tooltip">Servicio actualizado</div>
                        </div>
                        <div class="message-flow"></div>
                    </div>
                </div>

                    <!-- POOL SISTEMA NOTIFICACIONES -->
                    <div class="pool">
                        <div class="pool-header">üìß Notificaciones</div>
                        <div class="pool-content">
                        <div class="bpmn-element message-event">
                            üì©
                            <div class="tooltip">Cambio detectado</div>
                        </div>
                        <div class="connector"></div>
                        <div class="bpmn-element service-task">
                            Identificar Suscriptores
                            <div class="tooltip">Usuarios con alertas activas</div>
                        </div>
                        <div class="connector"></div>
                        <div class="bpmn-element service-task">
                            Enviar Alertas
                            <div class="tooltip">Email + Push notification</div>
                        </div>
                        <div class="message-flow"></div>
                        </div>
                    </div>

                    <!-- POOL BASE DE DATOS -->
                    <div class="pool">
                        <div class="pool-header">üóÑÔ∏è Base de Datos</div>
                        <div class="pool-content">
                        <div class="bpmn-element service-task">
                            Validar Datos
                            <div class="tooltip">Verificaci√≥n Prisma</div>
                        </div>
                        <div class="connector"></div>
                        <div class="bpmn-element service-task">
                            Actualizar BD
                            <div class="tooltip">PostgreSQL update</div>
                        </div>
                        <div class="connector"></div>
                        <div class="bpmn-element service-task">
                            Log Cambios
                            <div class="tooltip">Auditor√≠a</div>
                        </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB 4: AGREGACI√ìN DE DATOS -->
        <div id="agregacion" class="tab-content">
            <div class="process-info">
                <h3>üîÑ Sistema de Agregaci√≥n de Datos</h3>
                <ul>
                    <li>Scraping autom√°tico de fuentes externas</li>
                    <li>Integraci√≥n con APIs de partners</li>
                    <li>Monitoreo de redes sociales</li>
                    <li>Detecci√≥n autom√°tica de cambios de precios</li>
                </ul>
            </div>

            <div class="process-diagram">
                <h2 class="process-title">Agregaci√≥n y Scraping de Precios</h2>
                
                <div class="pools">
                    <!-- POOL SISTEMA AGREGADOR -->
                    <div class="pool">
                        <div class="pool-header">ü§ñ Sistema Agregador</div>
                        <div class="pool-content">
                            <div class="bpmn-element timer-event">
                                ‚è∞
                                <div class="tooltip">Timer diario (24h)</div>
                            </div>
                            <div class="connector"></div>
                            <div class="bpmn-element service-task">
                                Web Scraping
                                <div class="tooltip">Scraping de sitios externos</div>
                            </div>
                            <div class="connector"></div>
                            <div class="bpmn-element service-task">
                                APIs Partners
                                <div class="tooltip">Llamadas a APIs</div>
                            </div>
                            <div class="connector"></div>
                            <div class="bpmn-element service-task">
                                Social Media
                                <div class="tooltip">Feeds de redes sociales</div>
                            </div>
                            <div class="connector"></div>
                            <div class="bpmn-element gateway">?</div>
                            <div class="connector"></div>
                            <div class="bpmn-element end-event">
                                ‚úì
                                <div class="tooltip">Datos actualizados</div>
                            </div>
                            <div class="message-flow"></div>
                        </div>
                    </div>

                    <!-- POOL PROCESAMIENTO -->
                    <div class="pool">
                        <div class="pool-header">‚öôÔ∏è Procesamiento</div>
                        <div class="pool-content">
                            <div class="bpmn-element service-task">
                                Validar Datos
                                <div class="tooltip">Verificaci√≥n de calidad</div>
                            </div>
                            <div class="connector"></div>
                            <div class="bpmn-element service-task">
                                Normalizar
                                <div class="tooltip">Formato est√°ndar</div>
                            </div>
                            <div class="connector"></div>
                            <div class="bpmn-element service-task">
                                Detectar Cambios
                                <div class="tooltip">Comparar con BD actual</div>
                            </div>
                            <div class="connector"></div>
                            <div class="bpmn-element service-task">
                                Activar Alertas
                                <div class="tooltip">Sistema de notificaciones</div>
                            </div>
                            <div class="message-flow"></div>
                        </div>
                    </div>

                    <!-- POOL ANALYTICS -->
                    <div class="pool">
                        <div class="pool-header">üìä Analytics</div>
                        <div class="pool-content">
                            <div class="bpmn-element service-task">
                                Calcular M√©tricas
                                <div class="tooltip">KPIs de mercado</div>
                            </div>
                            <div class="connector"></div>
                            <div class="bpmn-element service-task">
                                Analizar Tendencias
                                <div class="tooltip">Patrones de precios</div>
                            </div>
                            <div class="connector"></div>
                            <div class="bpmn-element service-task">
                                Generar Insights
                                <div class="tooltip">Inteligencia de negocio</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB 5: SISTEMA DE RESE√ëAS -->
        <div id="resenas" class="tab-content">
            <div class="process-info">
                <h3>‚≠ê Sistema de Rese√±as y Ratings</h3>
                <ul>
                    <li>Rese√±as verificadas de usuarios</li>
                    <li>An√°lisis de sentimiento con IA</li>
                    <li>Moderaci√≥n autom√°tica de contenido</li>
                    <li>Impacto en ranking de proveedores</li>
                </ul>
            </div>

            <div class="process-diagram">
                <h2 class="process-title">Sistema de Rese√±as</h2>
                
                <div class="pools">
                    <!-- POOL CLIENTE -->
                    <div class="pool">
                        <div class="pool-header">üë§ Cliente</div>
                        <div class="pool-content">
                            <div class="bpmn-element start-event">
                                Rese√±a
                                <div class="tooltip">Escribir rese√±a</div>
                            </div>
                            <div class="connector"></div>
                            <div class="bpmn-element user-task">
                                Escribir Comentario
                                <div class="tooltip">Experiencia del servicio</div>
                            </div>
                            <div class="connector"></div>
                            <div class="bpmn-element user-task">
                                Asignar Rating
                                <div class="tooltip">1-5 estrellas</div>
                            </div>
                            <div class="connector"></div>
                            <div class="bpmn-element user-task">
                                Subir Fotos
                                <div class="tooltip">Evidencia opcional</div>
                            </div>
                            <div class="connector"></div>
                            <div class="bpmn-element end-event">
                                ‚úì
                                <div class="tooltip">Rese√±a publicada</div>
                            </div>
                            <div class="message-flow"></div>
                        </div>
                    </div>

                    <!-- POOL MODERACI√ìN IA -->
                    <div class="pool">
                        <div class="pool-header">ü§ñ Moderaci√≥n IA</div>
                        <div class="pool-content">
                            <div class="bpmn-element service-task">
                                Detectar Spam
                                <div class="tooltip">Filtro anti-spam</div>
                            </div>
                            <div class="connector"></div>
                            <div class="bpmn-element service-task">
                                An√°lisis Sentimiento
                                <div class="tooltip">Positivo/Negativo/Neutro</div>
                            </div>
                            <div class="connector"></div>
                            <div class="bpmn-element service-task">
                                Verificar Lenguaje
                                <div class="tooltip">Contenido apropiado</div>
                            </div>
                            <div class="connector"></div>
                            <div class="bpmn-element gateway">?</div>
                            <div class="message-flow"></div>
                        </div>
                    </div>

                    <!-- POOL SISTEMA -->
                    <div class="pool">
                        <div class="pool-header">‚öôÔ∏è Sistema</div>
                        <div class="pool-content">
                            <div class="bpmn-element service-task">
                                Actualizar Rating
                                <div class="tooltip">Promedio del proveedor</div>
                            </div>
                            <div class="connector"></div>
                            <div class="bpmn-element service-task">
                                Notificar Proveedor
                                <div class="tooltip">Nueva rese√±a recibida</div>
                            </div>
                            <div class="connector"></div>
                            <div class="bpmn-element service-task">
                                Actualizar Ranking
                                <div class="tooltip">Posici√≥n en b√∫squedas</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB 6: ADMINISTRACI√ìN -->
        <div id="administracion" class="tab-content">
            <div class="process-info">
                <h3>üëë Administraci√≥n y Monitoreo</h3>
                <ul>
                    <li>Panel de administraci√≥n integral</li>
                    <li>Monitoreo de salud del sistema</li>
                    <li>Gesti√≥n de usuarios y contenido</li>
                    <li>Generaci√≥n de reportes autom√°ticos</li>
                </ul>
            </div>

            <div class="process-diagram">
                <h2 class="process-title">Administraci√≥n del Sistema</h2>
                
                <div class="pools">
                    <!-- POOL ADMINISTRADOR -->
                    <div class="pool">
                        <div class="pool-header">üëë Administrador</div>
                        <div class="pool-content">
                            <div class="bpmn-element start-event">
                                Admin
                                <div class="tooltip">Acceso admin</div>
                            </div>
                            <div class="connector"></div>
                            <div class="bpmn-element gateway">?</div>
                            <div class="connector"></div>
                            <div class="bpmn-element user-task">
                                Aprobar Proveedores
                                <div class="tooltip">Verificaci√≥n manual</div>
                            </div>
                            <div class="connector"></div>
                            <div class="bpmn-element user-task">
                                Moderar Contenido
                                <div class="tooltip">Revisar reportes</div>
                            </div>
                            <div class="connector"></div>
                            <div class="bpmn-element user-task">
                                Configurar Sistema
                                <div class="tooltip">Par√°metros globales</div>
                            </div>
                            <div class="connector"></div>
                            <div class="bpmn-element end-event">
                                ‚úì
                                <div class="tooltip">Tarea completada</div>
                            </div>
                            <div class="message-flow"></div>
                        </div>
                    </div>

                    <!-- POOL HEALTH MONITORING -->
                    <div class="pool">
                        <div class="pool-header">ü©∫ Health Monitor</div>
                        <div class="pool-content">
                            <div class="bpmn-element timer-event">
                                ‚è±Ô∏è
                                <div class="tooltip">Check cada 5min</div>
                            </div>
                            <div class="connector"></div>
                            <div class="bpmn-element service-task">
                                Verificar BD
                                <div class="tooltip">PostgreSQL status</div>
                            </div>
                            <div class="connector"></div>
                            <div class="bpmn-element service-task">
                                Verificar APIs
                                <div class="tooltip">Servicios externos</div>
                            </div>
                            <div class="connector"></div>
                            <div class="bpmn-element service-task">
                                Verificar IA
                                <div class="tooltip">OpenAI service</div>
                            </div>
                            <div class="connector"></div>
                            <div class="bpmn-element gateway">?</div>
                            <div class="message-flow"></div>
                        </div>
                    </div>

                    <!-- POOL ALERTAS -->
                    <div class="pool">
                        <div class="pool-header">üö® Sistema de Alertas</div>
                        <div class="pool-content">
                            <div class="bpmn-element service-task">
                                Generar Alerta
                                <div class="tooltip">Incidencia detectada</div>
                            </div>
                            <div class="connector"></div>
                            <div class="bpmn-element service-task">
                                Notificar Admins
                                <div class="tooltip">Email + SMS urgente</div>
                            </div>
                            <div class="connector"></div>
                            <div class="bpmn-element service-task">
                                Log Incidencia
                                <div class="tooltip">Registro para an√°lisis</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB 7: VISTA BIZAGI COMPLETA -->
        <div id="bizagi-view" class="tab-content">
            <div class="process-info">
                <h3>üèóÔ∏è Vista Completa Estilo Bizagi Modeler</h3>
                <p>Representaci√≥n exacta de c√≥mo se ver√≠a el proceso completo en Bizagi Modeler con todos los elementos BPMN 2.0.</p>
            </div>

            <div class="process-diagram">
                <h2 class="process-title">üè¢ PROCESO COLABORATIVO COMPLETO - Alto Carwash Platform</h2>
                
                <!-- BIZAGI STYLE: COLLABORATION DIAGRAM -->
                <div class="main-pool" style="background: linear-gradient(135deg, #f8f9fa, #e9ecef);">
                    <div class="pool-title">ü§ù Colaboraci√≥n: Cliente ‚Üî Proveedor ‚Üî Plataforma</div>
                    
                    <!-- LANE: CLIENTE CON FLUJO COMPLETO -->
                    <div class="lane">
                        <div class="lane-header">üë§ Cliente</div>
                        <div class="lane-content">
                            <div class="subprocess-container" style="border-color: #007bff;">
                                <div class="subprocess-header" style="background: #007bff; color: white;">üîê Onboarding</div>
                                <div class="subprocess-content">
                                    <div class="bpmn-element start-event">Start</div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element user-task">Registro</div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element service-task">Clerk Auth</div>
                                </div>
                            </div>
                            
                            <div class="subprocess-container" style="border-color: #28a745;">
                                <div class="subprocess-header" style="background: #28a745; color: white;">üîç Discovery</div>
                                <div class="subprocess-content">
                                    <div class="bpmn-element user-task">Buscar</div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element gateway">?</div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element user-task">Comparar</div>
                                </div>
                            </div>

                            <div class="subprocess-container" style="border-color: #ffc107;">
                                <div class="subprocess-header" style="background: #ffc107; color: #212529;">üí∞ Decision</div>
                                <div class="subprocess-content">
                                    <div class="bpmn-element user-task">Seleccionar</div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element message-event">üìû</div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element end-event">End</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- LANE: PROVEEDOR CON FLUJO COMPLETO -->
                    <div class="lane">
                        <div class="lane-header">üè™ Proveedor</div>
                        <div class="lane-content">
                            <div class="subprocess-container" style="border-color: #6f42c1;">
                                <div class="subprocess-header" style="background: #6f42c1; color: white;">üìã Setup</div>
                                <div class="subprocess-content">
                                    <div class="bpmn-element start-event">Start</div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element user-task">Docs Upload</div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element gateway">‚úì</div>
                                </div>
                            </div>
                            
                            <div class="subprocess-container" style="border-color: #dc3545;">
                                <div class="subprocess-header" style="background: #dc3545; color: white;">‚öôÔ∏è Management</div>
                                <div class="subprocess-content">
                                    <div class="bpmn-element user-task">CRUD Services</div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element user-task">Update Prices</div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element timer-event">‚è±Ô∏è</div>
                                </div>
                            </div>

                            <div class="subprocess-container" style="border-color: #17a2b8;">
                                <div class="subprocess-header" style="background: #17a2b8; color: white;">üìû Interaction</div>
                                <div class="subprocess-content">
                                    <div class="bpmn-element message-event">üì©</div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element user-task">Respond</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- LANE: ADMINISTRADOR -->
                    <div class="lane">
                        <div class="lane-header">üëë Admin</div>
                        <div class="lane-content">
                            <div class="subprocess-container" style="border-color: #fd7e14;">
                                <div class="subprocess-header" style="background: #fd7e14; color: white;">‚úÖ Approval</div>
                                <div class="subprocess-content">
                                    <div class="bpmn-element user-task">Review Docs</div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element gateway">?</div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element service-task">Approve/Reject</div>
                                </div>
                            </div>

                            <div class="subprocess-container" style="border-color: #6c757d;">
                                <div class="subprocess-header" style="background: #6c757d; color: white;">üìä Monitor</div>
                                <div class="subprocess-content">
                                    <div class="bpmn-element timer-event">‚è∞</div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element service-task">Analytics</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- LANE: PLATAFORMA (BACKEND) -->
                    <div class="lane">
                        <div class="lane-header">‚öôÔ∏è Platform</div>
                        <div class="lane-content">
                            <div class="subprocess-container" style="border-color: #20c997;">
                                <div class="subprocess-header" style="background: #20c997; color: white;">ü§ñ AI Engine</div>
                                <div class="subprocess-content">
                                    <div class="bpmn-element service-task">ML Model</div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element service-task">OpenAI</div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element service-task">Rank Results</div>
                                </div>
                            </div>

                            <div class="subprocess-container" style="border-color: #e83e8c;">
                                <div class="subprocess-header" style="background: #e83e8c; color: white;">üìß Notifications</div>
                                <div class="subprocess-content">
                                    <div class="bpmn-element message-event">üì®</div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element service-task">Email</div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element service-task">Push</div>
                                </div>
                            </div>

                            <div class="subprocess-container" style="border-color: #495057;">
                                <div class="subprocess-header" style="background: #495057; color: white;">üóÑÔ∏è Data Layer</div>
                                <div class="subprocess-content">
                                    <div class="bpmn-element service-task">PostgreSQL</div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element service-task">Prisma ORM</div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element service-task">Redis Cache</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- LANE: SERVICIOS EXTERNOS -->
                    <div class="lane">
                        <div class="lane-header">üåê External</div>
                        <div class="lane-content">
                            <div class="subprocess-container" style="border-color: #007bff; background: linear-gradient(135deg, #f8f9ff, #e7f1ff);">
                                <div class="subprocess-header" style="background: #007bff; color: white;">üó∫Ô∏è Google Services</div>
                                <div class="subprocess-content">
                                    <div class="bpmn-element service-task">Maps API</div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element service-task">Places API</div>
                                </div>
                            </div>

                            <div class="subprocess-container" style="border-color: #28a745; background: linear-gradient(135deg, #f8fff9, #e8f5e8);">
                                <div class="subprocess-header" style="background: #28a745; color: white;">üîê Clerk Auth</div>
                                <div class="subprocess-content">
                                    <div class="bpmn-element service-task">Authentication</div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element service-task">JWT Validation</div>
                                </div>
                            </div>

                            <div class="subprocess-container" style="border-color: #ffc107; background: linear-gradient(135deg, #fffef8, #fefce8);">
                                <div class="subprocess-header" style="background: #ffc107; color: #212529;">üìà Analytics</div>
                                <div class="subprocess-content">
                                    <div class="bpmn-element service-task">Google Analytics</div>
                                    <div class="connector"></div>
                                    <div class="bpmn-element service-task">Mixpanel</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- INFORMACI√ìN PARA BIZAGI -->
                <div style="margin-top: 20px; padding: 20px; background: #e7f3ff; border-radius: 10px; border-left: 5px solid #007bff;">
                    <h3 style="color: #0056b3; margin-bottom: 15px;">üìã Gu√≠a para Bizagi Modeler</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px;">
                        <div>
                            <h4 style="color: #495057;">üéØ Elementos BPMN a usar:</h4>
                            <ul style="margin: 0; padding-left: 20px;">
                                <li><strong>Pool:</strong> "Alto Carwash Platform"</li>
                                <li><strong>Lanes:</strong> Cliente, Proveedor, Admin, Platform, External</li>
                                <li><strong>Start Events:</strong> Circle (verde)</li>
                                <li><strong>End Events:</strong> Circle con borde grueso (rojo)</li>
                                <li><strong>User Tasks:</strong> Rect√°ngulo con √≠cono persona</li>
                                <li><strong>Service Tasks:</strong> Rect√°ngulo con √≠cono engranaje</li>
                                <li><strong>Gateways:</strong> Rombo (decisiones)</li>
                                <li><strong>Timer Events:</strong> Circle con reloj</li>
                                <li><strong>Message Events:</strong> Circle con sobre</li>
                            </ul>
                        </div>
                        <div>
                            <h4 style="color: #495057;">üîÑ Flujos de Mensaje:</h4>
                            <ul style="margin: 0; padding-left: 20px;">
                                <li>Cliente ‚Üí Platform (b√∫squedas)</li>
                                <li>Proveedor ‚Üí Platform (datos)</li>
                                <li>Platform ‚Üí Cliente (resultados)</li>
                                <li>Platform ‚Üí Proveedor (notificaciones)</li>
                                <li>Admin ‚Üí Platform (aprobaciones)</li>
                                <li>Platform ‚Üí External (APIs)</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB 8: KPIS Y M√âTRICAS -->
        <div id="kpis" class="tab-content">
            <div class="process-info">
                <h3>üìä KPIs y M√©tricas de Rendimiento</h3>
                <p>M√©tricas clave para monitorear el rendimiento y crecimiento de la plataforma Alto Carwash.</p>
            </div>

            <div class="kpi-grid">
                <div class="kpi-card">
                    <div class="kpi-title">üéØ KPIs de Negocio</div>
                    <ul class="kpi-list">
                        <li>Usuarios registrados por d√≠a</li>
                        <li>Tasa de conversi√≥n cliente ‚Üí uso servicio</li>
                        <li>Tasa de aprobaci√≥n de proveedores</li>
                        <li>N√∫mero de b√∫squedas realizadas</li>
                        <li>Servicios m√°s populares por regi√≥n</li>
                        <li>Revenue por proveedor aprobado</li>
                        <li>Tiempo promedio de registro</li>
                        <li>Retenci√≥n de usuarios (7, 30, 90 d√≠as)</li>
                    </ul>
                </div>

                <div class="kpi-card">
                    <div class="kpi-title">‚ö° KPIs T√©cnicos</div>
                    <ul class="kpi-list">
                        <li>Tiempo de respuesta de b√∫squedas</li>
                        <li>Precisi√≥n de recomendaciones IA</li>
                        <li>√âxito de procesos de scraping</li>
                        <li>Uptime de servicios cr√≠ticos (99.9%)</li>
                        <li>Calidad de datos agregados</li>
                        <li>Latencia de APIs (< 200ms)</li>
                        <li>Errores por minuto (< 0.1%)</li>
                        <li>Throughput de transacciones</li>
                    </ul>
                </div>

                <div class="kpi-card">
                    <div class="kpi-title">üòä KPIs de Experiencia</div>
                    <ul class="kpi-list">
                        <li>Rating promedio de servicios</li>
                        <li>Tiempo promedio b√∫squeda ‚Üí selecci√≥n</li>
                        <li>Uso de filtros de b√∫squeda</li>
                        <li>NPS (Net Promoter Score)</li>
                        <li>Bounce rate en resultados</li>
                        <li>Comentarios positivos vs negativos</li>
                        <li>Uso de funcionalidades IA</li>
                        <li>Satisfacci√≥n de proveedores</li>
                    </ul>
                </div>

                <div class="kpi-card">
                    <div class="kpi-title">üîÑ KPIs de Procesamiento</div>
                    <ul class="kpi-list">
                        <li>Jobs de agregaci√≥n exitosos</li>
                        <li>Volumen de datos procesados/d√≠a</li>
                        <li>Tiempo de procesamiento IA</li>
                        <li>Cambios de precio detectados</li>
                        <li>Notificaciones enviadas/d√≠a</li>
                        <li>Precisi√≥n de geocodificaci√≥n</li>
                        <li>Efectividad de moderaci√≥n IA</li>
                        <li>Tasa de spam detectado</li>
                    </ul>
                </div>
            </div>

            <div class="legend">
                <h3>üé® Leyenda de Elementos BPMN</h3>
                <div class="legend-items">
                    <div class="legend-item">
                        <div class="legend-color" style="background: linear-gradient(135deg, #28a745, #20c997); border-radius: 50%;"></div>
                        <span><strong>Evento Inicio:</strong> Punto de partida del proceso</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: linear-gradient(135deg, #dc3545, #e83e8c); border-radius: 50%;"></div>
                        <span><strong>Evento Fin:</strong> Culminaci√≥n del proceso</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: linear-gradient(135deg, #007bff, #0056b3);"></div>
                        <span><strong>Tarea Usuario:</strong> Acci√≥n manual del usuario</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: linear-gradient(135deg, #6f42c1, #563d7c);"></div>
                        <span><strong>Tarea Sistema:</strong> Proceso autom√°tico</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: linear-gradient(135deg, #ffc107, #e0a800);"></div>
                        <span><strong>Gateway:</strong> Punto de decisi√≥n</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: linear-gradient(135deg, #fd7e14, #e55a00); border-radius: 50%;"></div>
                        <span><strong>Timer:</strong> Evento programado</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: linear-gradient(135deg, #17a2b8, #138496); border-radius: 50%;"></div>
                        <span><strong>Mensaje:</strong> Comunicaci√≥n entre sistemas</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function showTab(tabId) {
            // Hide all tab contents
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => {
                content.classList.remove('active');
            });

            // Remove active class from all nav tabs
            const navTabs = document.querySelectorAll('.nav-tab');
            navTabs.forEach(tab => {
                tab.classList.remove('active');
            });

            // Show selected tab content
            document.getElementById(tabId).classList.add('active');

            // Add active class to clicked nav tab
            event.target.classList.add('active');
        }

        // Add click animation to BPMN elements
        document.querySelectorAll('.bpmn-element').forEach(element => {
            element.addEventListener('click', function() {
                this.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    this.style.transform = '';
                }, 150);
            });
        });

        // Add keyboard navigation
        document.addEventListener('keydown', function(e) {
            const tabs = ['registro', 'busqueda', 'gestion', 'agregacion', 'resenas', 'administracion', 'bizagi-view', 'kpis'];
            const activeTab = document.querySelector('.tab-content.active').id;
            const currentIndex = tabs.indexOf(activeTab);

            if (e.key === 'ArrowRight' && currentIndex < tabs.length - 1) {
                const nextTabButton = document.querySelectorAll('.nav-tab')[currentIndex + 1];
                nextTabButton.click();
            } else if (e.key === 'ArrowLeft' && currentIndex > 0) {
                const prevTabButton = document.querySelectorAll('.nav-tab')[currentIndex - 1];
                prevTabButton.click();
            }
        });

        // Add smooth scrolling for mobile
        document.querySelectorAll('.nav-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                if (window.innerWidth <= 768) {
                    setTimeout(() => {
                        window.scrollTo({
                            top: 0,
                            behavior: 'smooth'
                        });
                    }, 100);
                }
            });
        });
    </script>
</body>
</html>