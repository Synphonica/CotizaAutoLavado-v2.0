# PROMPT PARA CURSOR AI - PROYECTO ALTO CARWASH

## CONTEXTO DEL PROYECTO
Soy estudiante de Ingeniería en Informática desarrollando "Alto Carwash", una plataforma agregadora de servicios de lavado automotriz similar a SoloTodo.cl pero para el sector automotriz. La plataforma centraliza información de precios de múltiples autolavados, permite comparación transparente y actúa como intermediario neutral (NO proporcionamos servicios directos).

## ARQUITECTURA TÉCNICA DEFINIDA

### Stack Tecnológico:
- **Backend:** NestJS + Fastify + TypeScript
- **Frontend Web:** Next.js 14 + TypeScript + Tailwind CSS
- **App Móvil:** React Native + Expo + TypeScript
- **Base de Datos:** PostgreSQL con Prisma ORM en Supabase
- **Autenticación:** Clerk
- **Mapas:** Google Maps API
- **IA:** OpenAI API para recomendaciones
- **Hosting:** Render (backend), Vercel (frontend)
- **Control de Versiones:** Git + GitHub

### Requerimientos Funcionales Clave:
1. **Sistema Agregador:** Motor de agregación de datos de múltiples fuentes
2. **Comparador:** Comparación de precios en tiempo real
3. **Geolocalización:** Búsqueda por proximidad con Google Maps
4. **Gestión de Usuarios:** Registro, autenticación, perfiles, favoritos
5. **Gestión de Proveedores:** Panel para autolavados actualizar información
6. **IA:** Recomendaciones personalizadas basadas en historial
7. **API REST:** Endpoints completos para web y móvil
8. **Aplicación Móvil:** App nativa con geolocalización GPS

### Requerimientos No Funcionales:
- Tiempo de respuesta < 2 segundos
- Soporte 1000 usuarios concurrentes
- Uptime 99.5%
- Cumplimiento Ley 19.628 (protección datos Chile)
- Responsive design
- Accesibilidad WCAG 2.1

## INSTRUCCIONES PARA CURSOR AI

### FASE 1: INICIALIZACIÓN Y ESTRUCTURA
**Objetivo:** Crear estructura completa del proyecto desde cero

1. **Crear estructura de monorepo** con las siguientes carpetas:
```
alto-carwash/
├── backend/          # NestJS API
├── frontend/         # Next.js web app  
├── mobile/           # React Native app
├── shared/           # Tipos TypeScript compartidos
├── docs/             # Documentación
└── scripts/          # Scripts de utilidad
```

2. **Configurar backend (NestJS):**
   - Inicializar proyecto NestJS con Fastify
   - Configurar Prisma + PostgreSQL
   - Configurar variables de entorno
   - Estructura modular: users, providers, services, aggregator, auth
   - Configurar Swagger para documentación API
   - Configurar CORS para frontend y móvil

3. **Configurar frontend (Next.js):**
   - Inicializar con App Router
   - Configurar TypeScript + Tailwind CSS
   - Configurar Clerk para autenticación
   - Estructura de componentes escalable
   - Configurar Google Maps integration

4. **Configurar móvil (React Native):**
   - Inicializar con Expo
   - Configurar navegación (React Navigation)
   - Configurar autenticación sincronizada
   - Configurar geolocalización nativa

### FASE 2: IMPLEMENTACIÓN CORE
**Objetivo:** Desarrollar funcionalidades principales paso a paso

5. **Backend - Módulos principales:**
   - **Auth Module:** JWT + Clerk integration
   - **Users Module:** CRUD usuarios con roles
   - **Providers Module:** Gestión de autolavados
   - **Services Module:** Catálogo de servicios
   - **Aggregator Module:** Sistema de recopilación de datos
   - **Comparison Module:** Lógica de comparación de precios
   - **AI Module:** Integración OpenAI para recomendaciones
   - **Maps Module:** Integración Google Maps para geolocalización

6. **Frontend - Páginas y componentes:**
   - Landing page con buscador principal
   - Página de resultados con comparación
   - Mapa interactivo con markers
   - Dashboard de usuario (favoritos, historial)
   - Panel de proveedor (actualizar información)
   - Sistema de filtros avanzados

7. **Móvil - Pantallas principales:**
   - Home con geolocalización automática
   - Búsqueda y filtros optimizados móvil
   - Mapa nativo con proveedores cercanos
   - Perfil de usuario
   - Notificaciones push

### FASE 3: INTEGRACIONES Y OPTIMIZACIÓN
8. **Integraciones externas:**
   - Google Maps API (geocoding, places, directions)
   - OpenAI API (recomendaciones inteligentes)
   - Sistema de scraping para agregación de datos
   - Notificaciones push (Firebase/Expo)

9. **Optimizaciones:**
   - Cache con Redis
   - Optimización de consultas BD
   - Lazy loading en frontend
   - Compresión de imágenes
   - SEO optimization

### METODOLOGÍA DE TRABAJO

**Para cada módulo que implementemos:**
1. **Explica la arquitectura** antes de codificar
2. **Genera código completo** con comentarios explicativos
3. **Incluye tests básicos** unitarios
4. **Proporciona comandos** para ejecutar y probar
5. **Sugiere próximos pasos** y mejoras

**Principios de código:**
- Clean Code y SOLID principles
- Separación de responsabilidades
- Tipado estricto TypeScript
- Error handling robusto
- Logging apropiado
- Validación de datos (Zod)

## SOLICITUD ESPECÍFICA

**Comienza ahora con FASE 1 - INICIALIZACIÓN:**
1. Crea la estructura completa de carpetas del monorepo
2. Inicializa el proyecto backend con NestJS + Fastify + Prisma
3. Crea los archivos de configuración básicos (package.json, tsconfig, .env.example)
4. Define el schema inicial de la base de datos para usuarios y proveedores
5. Configura los primeros endpoints básicos de health check

**Después de completar cada paso, pregúntame si quiero continuar con el siguiente módulo o si necesito ajustes.**

Necesito código funcional, no pseudocódigo. Genera archivos completos listos para usar con todas las configuraciones necesarias.